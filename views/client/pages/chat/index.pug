extends ../../layout/default.pug

block content
  .chat( my-id=user.id)
    .chat-header
      h2 Group Chat
      .chat-tabs
        span.chat-tab.active Messages
        span.chat-tab Participants

    .chat-body#messages
      //- Tin nhắn mẫu
      each chat in chats
        - const isSent = chat.user_id === user.id
        .chat-message(class=isSent ? 'sent' : 'received')
          if !isSent
            img.avatar(src="https://i.pravatar.cc/40?img=1", alt=chat.fullName)
            .message-content
              .message-name #{chat.fullName}
              .message-text #{chat.content}
              .message-time #{chat.time}
          else
            .message-content
              .message-text #{chat.content}
              .message-time #{chat.time}
      // Typing indicator
      .inner-list-typing

    .chat-footer
      form#form(action="")
        input#input(type="text" name='content' placeholder="Write your message...")
        span(class='button-icon btn btn-light ') <i class='bx bx-smile '></i>
        button(type="submit")
          i.bx.bx-send
  div(class="tooltip" role="tooltip")
    emoji-picker